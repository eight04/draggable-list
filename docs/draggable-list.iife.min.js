var DraggableList=function(){"use strict";return function(t,e){for(const e of t.children)e.draggable=!0;new MutationObserver((t=>{for(const e of t)for(const t of e.addedNodes)t.draggable=!0})).observe(t,{childList:!0});let r=null,s=0,a=0,n=null,o=[],l=null,d=!1;function i(e,s,a){const o={origin:e,startPos:r,currentPos:n,dragTarget:l};a&&Object.assign(o,a),t.dispatchEvent(new CustomEvent(s,{detail:o}))}t.addEventListener("dragstart",(g=>{if(g.target.parentNode!==t)return;l=g.target,d=!1;const c=e?e.scrollLeft:0,f=e?e.scrollTop:0;r={x:g.pageX+c,y:g.pageY+f},s=[...t.children].indexOf(g.target),a=s,n=r,o=[...t.children].map((t=>{const e=t.getBoundingClientRect();return{top:e.top+window.scrollY+f,bottom:e.bottom+window.scrollY+f}})),l.classList.add("draggable-list-target"),t.classList.add("draggable-list-dragging"),i(g,"d:dragstart")})),t.addEventListener("dragenter",(t=>{l&&(t.preventDefault(),i(t,"d:dragmove"))})),t.addEventListener("dragover",(r=>{if(!l)return;r.preventDefault();const d=e?e.scrollLeft:0,g=e?e.scrollTop:0,c={x:r.pageX+d,y:r.pageY+g};a=function(t,e,r,s,a,n){if(n>s)for(let s=a;s<t.length&&!(e[s].top>n);s++)s<r&&e[s].bottom<n&&t[s].classList.contains("draggable-list-transformed")?(t[s].classList.remove("draggable-list-transformed"),t[s].style=""):s>r&&e[s].top<n&&!t[s].classList.contains("draggable-list-transformed")&&(t[s].classList.add("draggable-list-transformed"),t[s].style.transform="translateY(".concat(e[r].top-e[r+1].top,"px)")),a=s;else for(let s=a;s>=0&&!(e[s].bottom<n);s--)s>r&&e[s].top>n&&t[s].classList.contains("draggable-list-transformed")?(t[s].classList.remove("draggable-list-transformed"),t[s].style=""):s<r&&e[s].bottom>n&&!t[s].classList.contains("draggable-list-transformed")&&(t[s].classList.add("draggable-list-transformed"),t[s].style.transform="translateY(".concat(e[r].bottom-e[r-1].bottom,"px)")),a=s;return a}(t.children,o,s,n.y,a,c.y),n=c,i(r,"d:dragmove")})),document.addEventListener("dragend",(e=>{if(l){for(const e of t.children)e.classList.remove("draggable-list-transformed"),e.style="";l.classList.remove("draggable-list-target"),t.classList.remove("draggable-list-dragging"),i(e,"d:dragend",{originalIndex:s,spliceIndex:a,insertBefore:a<s?t.children[a]:t.children[a+1],dropped:d}),l=null}})),t.addEventListener("drop",(t=>{l&&(d=!0,t.preventDefault())}))}}();
